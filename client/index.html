<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
	<title>Client</title>
  <meta charset="utf-8">
</head>
<body>
	<canvas id="ctx" width="400" height="400" style="border:1px solid #000000;"></canvas>
	<button onclick="start(); ">Say Hi</button>
</body>


<script type="text/javascript" src="/js/socket.io-1.4.5.js"></script>
<script type="text/javascript">


var socket = io();
//https://www.youtube.com/watch?v=hO14DHHpgxw
// socket.emit('type',{message:abcd,region:us})
//socket.emit('init',{ message:"First Request Came." });

var rand = Math.random();

var start = function(){
	socket.emit('init',{ message:"First Request Came" + rand });
}




socket.on('responseMsg',function(data){
	console.dir(data.message);
});

var canvas = document.getElementById("ctx");
var ctx = 	canvas.getContext("2d");
ctx.font = "30px Arial";

// socket.on('newPosition',function(data){
// 	ctx.clearRect(0,0,400,400);
// 	ctx.fillText('A', data.x, data.y);
// });

socket.on('newPositions',function(data){
	ctx.clearRect(0,0,400,400);
	for(var i = 0; i< data.length; i++)
		ctx.fillText(data[i].number, data[i].x, data[i].y);
});


</script>

</html>
